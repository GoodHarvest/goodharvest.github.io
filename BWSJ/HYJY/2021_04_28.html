<!DOCTYPE html>
<html>
<head>
    <title>JavaScript利用密钥加密与解密</title>
    <script type="text/javascript">
        function getKey() {
            var key = $F("txtKey");
            if (key == "") return 0;
            var result = 0;
            for (var i = 0; i < key.length; i++) {
                result += key.charCodeAt(i) * key.length;
            }
            return result;
        }
      
        var fnUncompile = function () {
            var result = uncompile($F('txtInfo'), getKey());
            $("txtInfo").value = result;
        }
        window.onload = function () {
            addEvent($("btnUncompile"), "click", fnUncompile);
        }

       
        //解密
        //info:待解密信息,key:密钥
        function uncompile(info, key) {
            var result = "";
            var info = unescape(info).split(',');
            for (var i = 0; i < info.length; i++) {
                var tempNum = info[i] - key;
                result += String.fromCharCode(tempNum);
            }
            return result;
        }

        function $(id) { return document.getElementById(id); }
        function $F(id) { return document.getElementById(id).value; }
        //绑定事件
        function addEvent(obj, type, fn) {
            if (obj.attachEvent) {
                obj['e' + type + fn] = fn;
                obj[type + fn] = function () {
                    obj['e' + type + fn]

                        (window.event);
                }
                obj.attachEvent('on' + type, obj[type + fn]);
            } else obj.addEventListener(type, fn, false);
        }
        //移除事件
        function removeEvent(obj, type, fn) {
            if (obj.detachEvent) {
                obj.detachEvent('on' + type, obj[type + fn]);
                obj[type + fn] = null;
            } else obj.removeEventListener(type, fn, false);
        }
    </script>
</head>
<body>
    <form id="form1" runat="server">
        密钥：<input type="text" id="txtKey" value="" />
        <input type="button" id="btnUncompile" value="解密" />

        <br />
        <textarea id="txtInfo" rows="80" cols="80">
37484%2C23179%2C800%2C20965%2C23591%2C21119%2C22397%2C20794%2C27448%2C25283%2C31108%2C842%2C863%2C840%2C31108%2C39144%2C25234%2C800%2C31108%2C24246%2C25005%2C800%2C31108%2C24335%2C33220%2C778%2C817%2C809%2C20778%2C20922%2C36606%2C32011%2C23006%2C24980%2C778%2C24153%2C26991%2C826%2C800%2C21576%2C27180%2C26831%2C20795%2C26853%2C24166%2C800%2C21645%2C25090%2C26831%2C24227%2C36530%2C778%2C23591%2C21959%2C22501%2C826%2C33740%2C31296%2C22021%2C35761%2C29996%2C24433%2C778%2C23037%2C24246%2C23760%2C800%2C826%2C823%2C20778%2C22081%2C24151%2C27318%2C800%2C23048%2C808%2C23088%2C30467%2C809%2C800%2C20750%2C26713%2C21018%2C31108%2C21119%2C22397%2C20736%2C34036%2C778%2C27521%2C25119%2C21572%2C800%2C826%2C36976%2C21754%2C22203%2C800%2C24153%2C25510%2C826%2C23006%2C28433%2C800%2C37595%2C21605%2C21808%2C23574%2C26831%2C778%2C36158%2C39454%2C23760%2C826%2C24433%2C37598%2C31296%2C24433%2C800%2C20736%2C20778%2C20736%2C20778%2C31108%2C24433%2C800%2C20794%2C856%2C863%2C842%2C31863%2C22346%2C800%2C20942%2C20736%2C24335%2C26870%2C20963%2C31863%2C25088%2C23755%2C778%2C24159%2C33537%2C24840%2C826%2C800%2C30383%2C23427%2C28372%2C37507%2C23591%2C31108%2C21803%2C23429%2C800%2C39266%2C34621%2C800%2C26277%2C25221%2C22276%2C23088%2C31108%2C20922%2C800%2C28194%2C37582%2C31108%2C31887%2C39667%2C20875%2C24805%2C778%2C20952%2C21023%2C20797%2C826%2C33231%2C28750%2C31108%2C23625%2C30254%2C800%2C26671%2C26113%2C856%2C863%2C842%2C20875%2C24805%2C778%2C28343%2C30055%2C24840%2C826%2C800%2C22081%2C24948%2C22286%2C20758%2C30796%2C22276%2C23088%2C26821%2C35660%2C800%2C37291%2C21075%2C23677%2C800%2C20758%2C30796%2C22276%2C23088%2C21338%2C31469%2C24227%2C778%2C27180%2C23071%2C31887%2C39667%2C35969%2C21620%2C26874%2C800%2C20743%2C23037%2C856%2C863%2C842%2C25933%2C27145%2C22286%2C23559%2C21915%2C38095%2C812%2C21928%2C22360%2C21915%2C38095%2C778%2C20922%2C20922%2C37885%2C26927%2C31853%2C22264%2C800%2C856%2C863%2C842%2C23531%2C800%2C27180%2C23071%2C31887%2C39667%2C800%2C20831%2C26927%2C856%2C863%2C842%2C23531%2C800%2C31863%2C22346%2C778%2C778%2C33302%2C37521%2C20736%2C27180%2C37634%2C22280%2C27180%2C23071%2C856%2C863%2C842%2C31108%2C36606%2C32011%2C778%2C778%2C778%2C818%2C809%2C23682%2C21077%2C37484%2C22038%2C800%2C37484%2C23179%2C800%2C21119%2C22397%2C23179%2C31108%2C26713%2C21018%2C800%2C30384%2C23080%2C24369%2C37484%2C800%2C23682%2C21077%2C25239%2C21808%2C27178%2C25239%2C20811%2C28433%2C778%2C778%2C36521%2C25920%2C27145%2C20922%2C37885%2C26277%2C22231%2C25994%2C26337%2C26870%2C27194%2C31108%2C36525%2C33219%2C778%2C778%2C27145%2C23604%2C33809%2C31108%2C31461%2C36550%2C800%2C27124%2C39424%2C35969%2C27145%2C39802%2C27149%2C31108%2C30751%2C22397%2C778%2C20965%2C856%2C863%2C842%2C20794%2C21119%2C22397%2C800%2C20965%2C842%2C863%2C840%2C20794%2C27449%2C23290%2C778%2C778%2C25358%2C20808%2C37484%2C23179%2C800%2C25358%2C20808%2C25088%2C23755%2C778%2C25873%2C20972%2C24980%2C36581%2C21338%2C20928%2C20808%2C778%2C778%2C24153%2C26991%2C826%2C20942%2C36530%2C22256%2C25088%2C23755%2C800%2C36911%2C25211%2C800%2C23591%2C21119%2C22397%2C31108%2C25090%2C36705%2C800%2C20743%2C26831%2C20743%2C28433%2C31108%2C21024%2C31887%2C39667%2C800%2C821%2C822%2C28433%2C26831%2C31108%2C31863%2C22346%2C778%2C856%2C863%2C842%2C31108%2C23625%2C30254%2C30383%2C34178%2C800%2C21920%2C37595%2C22203%2C800%2C24218%2C27167%2C800%2C858%2C22074%2C31469%2C856%2C800%2C28516%2C25119%2C21572%2C37965%2C26413%2C800%2C27180%2C23088%2C856%2C863%2C842%2C31108%2C20875%2C24805%2C800%2C35660%2C21928%2C36983%2C27237%2C778%2C778%2C28343%2C30055%2C24840%2C826%2C856%2C863%2C842%2C37484%2C22289%2C39506%2C28791%2C778%2C20970%2C25103%2C25631%2C66060%2C25994%2C24583%2C26076%2C31108%2C32011%2C24975%2C66060%2C37484%2C22289%2C23591%2C21119%2C22397%2C31108%2C26809%2C22289%2C800%2C20965%2C23591%2C21119%2C22397%2C20794%2C27448%2C25283%2C31108%2C24583%2C26076%2C778%2C20795%2C26853%2C24166%2C800%2C856%2C863%2C842%2C31108%2C36606%2C32011%2C778%2C778%2C24159%2C33537%2C24840%2C66074%2C21801%2C30760%2C22039%2C20908%2C31108%2C21016%2C21951%2C800%2C22203%2C35660%2C40310%2C23591%2C21119%2C22397%2C800%2C28433%2C26831%2C23591%2C24166%2C800%2C26277%2C36070%2C21622%2C20950%2C31108%2C26831%2C33444%2C778%2C21801%2C30760%2C21017%2C21044%2C21619%2C32763%2C800%2C39518%2C28722%2C856%2C863%2C842%2C21619%2C32763%2C800%2C20795%2C26853%2C23578%2C24227%2C36530%2C20950%2C20972%2C31108%2C31224%2C21619%2C21217%2C25455

</textarea>
    </form>
</body>
</html>